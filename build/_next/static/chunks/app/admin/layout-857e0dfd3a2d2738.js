(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{1567:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var n=s(3463),i=s(9795);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,n.$)(t))}},2884:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>r});var n=s(5155),i=s(2115),a=s(1125),l=s(1567);let r=a.bL,d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(a.B8,{ref:t,className:(0,l.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...i})});d.displayName=a.B8.displayName;let c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(a.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...i})});c.displayName=a.l9.displayName;let o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(a.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...i})});o.displayName=a.UC.displayName},3360:(e,t,s)=>{"use strict";s.d(t,{hO:()=>d,sG:()=>r});var n=s(2115),i=s(7650),a=s(2317),l=s(5155),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let s=n.forwardRef((e,s)=>{let{asChild:n,...i}=e,r=n?a.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r,{...i,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function d(e,t){e&&i.flushSync(()=>e.dispatchEvent(t))}},3992:(e,t,s)=>{Promise.resolve().then(s.bind(s,8718))},6046:(e,t,s)=>{"use strict";var n=s(6658);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},8718:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(5155),i=s(2115),a=s(8173),l=s.n(a),r=s(6046),d=s(2615),c=s(2884);let o=[{name:"Dashboard",path:"/admin/dashboard"},{name:"Photos",path:"/admin/photos"},{name:"Analytics",path:"/admin/analytics"}];function u(e){var t,s;let{children:a}=e,u=(0,r.usePathname)(),[m,h]=(0,i.useState)(""),{data:x,status:f}=(0,d.useSession)(),v=(0,r.useRouter)();return((0,i.useEffect)(()=>{"unauthenticated"===f&&"/admin"!==u&&v.push("/admin")},[f,u,v]),(0,i.useEffect)(()=>{var e;let t=null===(e=o.find(e=>u.startsWith(e.path)))||void 0===e?void 0:e.path;t&&h(t)},[u]),"/admin"===u)?(0,n.jsx)(n.Fragment,{children:a}):"loading"===f?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-zinc-900",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):"unauthenticated"===f?null:(0,n.jsxs)("div",{className:"min-h-screen bg-zinc-900 flex flex-col",children:[(0,n.jsxs)("header",{className:"border-b border-zinc-800 bg-zinc-900",children:[(0,n.jsxs)("div",{className:"container mx-auto flex flex-col lg:flex-row items-center justify-between py-4 px-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between w-full lg:w-auto mb-4 lg:mb-0",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(l(),{href:"/",children:(0,n.jsxs)("h1",{className:"text-xl font-medium text-white",children:["Barelands",(0,n.jsx)("span",{className:"text-xs text-zinc-400 font-normal block",children:"Admin Panel"})]})})}),(0,n.jsx)("button",{className:"lg:hidden rounded-md p-2 bg-zinc-800 text-zinc-300 hover:bg-zinc-700 transition-colors",onClick:()=>{var e;return null===(e=window.document.getElementById("mobile-menu"))||void 0===e?void 0:e.classList.toggle("hidden")},children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,n.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,n.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),(0,n.jsx)("div",{className:"hidden lg:flex items-center gap-6",children:(0,n.jsx)(c.tU,{value:m,className:"w-full",onValueChange:e=>{h(e),v.push(e)},children:(0,n.jsx)(c.j7,{className:"bg-zinc-800",children:o.map(e=>(0,n.jsx)(c.Xi,{value:e.path,className:"data-[state=active]:bg-white data-[state=active]:text-zinc-900",children:e.name},e.path))})})}),(0,n.jsxs)("div",{className:"hidden lg:flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"text-sm text-zinc-400",children:["Logged in as ",(0,n.jsx)("span",{className:"text-white",children:null==x?void 0:null===(t=x.user)||void 0===t?void 0:t.email})]}),(0,n.jsx)("button",{onClick:()=>(0,d.signOut)({callbackUrl:"/admin"}),className:"px-3 py-1 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 text-sm rounded transition-colors",children:"Log out"})]})]}),(0,n.jsx)("div",{id:"mobile-menu",className:"hidden lg:hidden border-t border-zinc-800 pb-4",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 pt-4",children:[(0,n.jsx)(c.tU,{value:m,className:"w-full",onValueChange:e=>{h(e),v.push(e)},children:(0,n.jsx)(c.j7,{className:"bg-zinc-800 w-full grid grid-cols-3",children:o.map(e=>(0,n.jsx)(c.Xi,{value:e.path,className:"data-[state=active]:bg-white data-[state=active]:text-zinc-900",children:e.name},e.path))})}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-zinc-800",children:[(0,n.jsxs)("div",{className:"text-sm text-zinc-400",children:["Logged in as ",(0,n.jsx)("span",{className:"text-white",children:null==x?void 0:null===(s=x.user)||void 0===s?void 0:s.email})]}),(0,n.jsx)("button",{onClick:()=>(0,d.signOut)({callbackUrl:"/admin"}),className:"px-3 py-1 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 text-sm rounded transition-colors",children:"Log out"})]})]})})]}),(0,n.jsx)("main",{className:"flex-1 overflow-auto",children:(0,n.jsx)("div",{className:"container mx-auto p-4 h-full",children:a})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[345,125,615,441,587,358],()=>t(3992)),_N_E=e.O()}]);